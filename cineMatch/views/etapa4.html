<!DOCTYPE html>
<html lang="pt-br">

<head>
     <meta charset="UTF-8">
     <title>CineMatch - Nacionalidade</title>
     <meta name="viewport" content="width=device-width, initial-scale=1">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
     <link rel="stylesheet" href="../public/css/style.css">

     <style>
          body {
               background: linear-gradient(to right, #c9c9c9, #f2f2f2);
               color: #333;
               font-family: 'Segoe UI', sans-serif;
          }

          .card-final {
               background-color: rgba(255, 255, 255, 0.9);
               padding: 30px;
               border-radius: 20px;
               margin-top: 60px;
               box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
          }

          .nation-btn {
               margin: 6px;
               min-width: 180px;
          }

          .nation-btn.selected {
               background-color: #6f42c1;
               color: white;
               border: 2px solid #ffffff;
          }

          .next-btn {
               margin-top: 20px;
          }


          
     </style>
</head>

<body>
     <div class="container text-center">
          <div class="card-final">
               <h2 class="mb-4">üåé De onde v√™m os seus filmes favoritos?</h2>
               <p>Escolha de 1 a 3 nacionalidades de filmes que voc√™ mais assiste:</p>

               <div class="d-flex flex-wrap justify-content-center" id="nationContainer">
                    <button class="btn btn-primary nation-btn">Brasil</button>
                    <button class="btn btn-primary nation-btn">Estados Unidos</button>
                    <button class="btn btn-primary nation-btn">Fran√ßa</button>
                    <button class="btn btn-primary nation-btn">Jap√£o</button>
                    <button class="btn btn-primary nation-btn">Coreia do Sul</button>
                    <button class="btn btn-primary nation-btn">√çndia</button>
                    <button class="btn btn-primary nation-btn">Reino Unido</button>
                    <button class="btn btn-primary nation-btn">M√©xico</button>
                    <button class="btn btn-primary nation-btn">It√°lia</button>
                    <button class="btn btn-primary nation-btn">Alemanha</button>
                    <button class="btn btn-primary nation-btn">Espanha</button>
               </div>

               <div class="text-center">
                    <button class="btn btn-success next-btn" id="nextBtn" disabled>üëâ Pr√≥xima Etapa</button>
               </div>
          </div>
     </div>

     <script>
          const nationButtons = document.querySelectorAll('.nation-btn');
          const nextBtn = document.getElementById('nextBtn');

          nationButtons.forEach(button => {
               button.addEventListener('click', () => {
                    button.classList.toggle('selected');
                    const selected = document.querySelectorAll('.nation-btn.selected');
                    if (selected.length >= 1 && selected.length <= 3) {
                         nextBtn.disabled = false;
                    } else {
                         nextBtn.disabled = true;
                    }
                    if (selected.length > 3) {
                         button.classList.remove('selected');
                         alert('Voc√™ pode escolher no m√°ximo 3 nacionalidades.');
                    }
               });
          });

          nextBtn.addEventListener('click', () => {
               const selectedNations = Array.from(document.querySelectorAll('.nation-btn.selected'))
                    .map(btn => btn.textContent);

               // Salvar no localStorage
               localStorage.setItem("nacionalidades", JSON.stringify(selectedNations));

               // Redirecionar para a pr√≥xima etapa
               window.location.href = "etapa5.html";
          });
     </script>
</body>

</html>