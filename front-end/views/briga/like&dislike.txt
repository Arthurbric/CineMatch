<!DOCTYPE html>
<html lang="pt-br"> <head>
     <meta charset="UTF-8" />
     <meta name="viewport" content="width=device-width, initial-scale=1.0" />
     <title>CineMatch - Hora de Curtir!</title> <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

     <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet" />

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
     {/* Mantive o seu, mas o link acima é uma alternativa */}


     {/* Comentado para focar nos estilos Bootstrap e inline. Você pode descomentar e ajustar. */}

     <style>
          html, body {
               height: 100%;
               margin: 0;
               font-family: 'Roboto', sans-serif;
               overflow: hidden; /* Evita scrollbars desnecessários devido ao layout full-height */
               /* Gradiente animado como fundo */
               background: linear-gradient(135deg, #d4aFF7, #f3c2e0, #a8b5f0, #f7b7d7); /* Adicionei mais um tom para variedade */
               background-size: 600% 600%; /* Aumentado para animação mais suave com mais cores */
               animation: gradientAnimation 25s ease infinite;
          }

          @keyframes gradientAnimation {
               0% { background-position: 0% 50%; }
               50% { background-position: 100% 50%; }
               100% { background-position: 0% 50%; }
          }

          /* TELA DE LOADING */
          #loading {
               background-color: rgba(40, 28, 68, 0.85); /* Roxo escuro semi-transparente */
               backdrop-filter: blur(5px);
               z-index: 1056; /* Acima de outros elementos */
          }
          .loader-custom { /* Substituindo o .loader original por um spinner Bootstrap estilizado */
            width: 4rem;
            height: 4rem;
            border-width: .35rem;
            color: #f3c2e0; /* Cor rosa claro para o spinner */
          }


          /* TELA DE ERRO */
          #erro {
               color: #f8f9fa; /* Texto claro para contraste com fundo escuro */
               /* display: none; Mantido no HTML */
          }
          #erro .alert-custom {
              background-color: rgba(220, 53, 69, 0.85); /* Vermelho do Bootstrap com transparência */
              border-color: rgba(220, 53, 69, 0.9);
              color: #fff;
              backdrop-filter: blur(5px);
          }


          /* CONTEÚDO PRINCIPAL */
          #conteudo {
               /* display: none; Mantido no HTML */
               color: #fff; /* Texto branco para melhor contraste com o card e fundo */
          }

          .navbar-custom {
               background-color: rgba(255, 255, 255, 0.1); /* Barra de navegação com efeito vidro */
               backdrop-filter: blur(10px);
               border-bottom: 1px solid rgba(255, 255, 255, 0.2);
          }
          .navbar-custom img {
               max-height: 40px;
          }
          .navbar-custom .btn-logout {
              color: #fff;
              font-size: 1.5rem;
              transition: color 0.2s ease-in-out;
          }
          .navbar-custom .btn-logout:hover {
              color: #d4aFF7; /* Lilás no hover */
          }


          .photo-and-actions-container {
            /* Container para centralizar o card e as ações */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center; /* Centraliza o card se não ocupar todo o espaço */
            flex-grow: 1; /* Ocupa o espaço restante após a navbar */
            padding: 1rem;
          }

          .photo-card {
               width: 100%;
               max-width: 400px; /* Ajuste conforme necessário */
               aspect-ratio: 3 / 4.5; /* Proporção de card comum */
               border-radius: 20px;
               overflow: hidden;
               position: relative;
               box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
               background-color: #333; /* Fallback se a imagem não carregar */
          }
          .photo-img {
               width: 100%;
               height: 100%;
               object-fit: cover; /* Cobre a área do card sem distorcer */
               display: block; /* Remove espaço extra abaixo da imagem */
          }
          .photo-text {
               position: absolute;
               bottom: 0;
               left: 0;
               right: 0;
               padding: 1.5rem;
               background: linear-gradient(to top, rgba(0, 0, 0, 0.85) 20%, rgba(0, 0, 0, 0));
               color: #fff;
          }
          .photo-name-and-age h2 {
               font-size: 1.6rem;
               font-weight: bold;
               margin-bottom: 0.25rem;
               display: inline; /* Para ficar na mesma linha se houver espaço */
          }
          .photo-name-and-age h2:not(:last-child)::after {
              content: ", "; /* Adiciona vírgula se houver "idade" */
              margin-right: 5px;
          }
          .photo-bio {
               font-size: 0.9rem;
               margin-bottom: 0.5rem;
               display: flex; /* Para alinhar o ícone */
               align-items: center;
          }
          .photo-bio a {
              color: #f0f0f0;
              margin-left: 8px; /* Espaço para o ícone TMDB */
              font-size: 1.2rem;
              transition: color 0.2s ease;
          }
           .photo-bio a:hover {
               color: #d4aFF7;
           }
          .notas {
              margin-top: 0.5rem;
          }
          .notas h4 {
               font-size: 0.9rem;
               font-weight: 500;
               background-color: rgba(255,255,255,0.2);
               padding: 0.2rem 0.5rem;
               border-radius: 0.25rem;
               display: inline-block; /* Para que os backgrounds fiquem justos ao texto */
               margin-right: 5px;
               margin-bottom: 5px;
          }


          .actions-bar {
               padding: 1rem 0;
               width: 100%;
               max-width: 450px; /* Um pouco maior que o card */
               margin-top: 1.5rem; /* Espaço entre o card e os botões */
          }
          .action-form {
              display: inline-block; /* Para os formulários ficarem lado a lado */
          }
          .actions-bar .btn {
               width: 70px;
               height: 70px;
               border-radius: 50%; /* Botões redondos */
               font-size: 1.8rem; /* Ícones maiores */
               display: flex;
               align-items: center;
               justify-content: center;
               box-shadow: 0 4px 15px rgba(0,0,0,0.15);
               transition: transform 0.2s ease-out, box-shadow 0.2s ease;
          }
          .actions-bar .btn:hover {
              transform: scale(1.1);
              box-shadow: 0 6px 20px rgba(0,0,0,0.2);
          }

          /* Cores específicas para os botões de ação */
          .action_dislike { background-color: #ff6961 !important; border-color: #ff6961 !important; color: white; } /* Vermelho pastel */
          .action_neutral { background-color: #AEC6CF !important; border-color: #AEC6CF !important; color: #333; } /* Azul acinzentado pastel */
          .action_like { background-color: #77DD77 !important; border-color: #77DD77 !important; color: white; } /* Verde pastel */

          /* Estilo para o span de loading dos botões, se necessário */
          .loading_button {
              /* Adapte se você usar um spinner aqui */
          }
     </style>
</head>

<body class="d-flex flex-column">

     <div id="loading" class="d-flex justify-content-center align-items-center vh-100 vw-100 position-fixed top-0 start-0" style="/* display: none; controlado por JS */">
          <div class="spinner-border loader-custom" role="status">
               <span class="visually-hidden">Carregando...</span>
          </div>
     </div>

     <div id="erro" class="d-flex justify-content-center align-items-center vh-100 vw-100 position-fixed top-0 start-0" style="display: none; background-color: rgba(0,0,0,0.7); z-index: 1055;">
        <div class="alert alert-custom shadow-lg" role="alert">
            <h4 class="alert-heading mb-3"><i class="fas fa-exclamation-triangle me-2"></i>Oops! Algo deu errado.</h4>
            <p>Não foi possível carregar as informações do filme no momento.</p>
            <hr>
            <p class="mb-0">Por favor, tente recarregar a página ou volte mais tarde.</p>
        </div>
     </div>

     <div id="conteudo" class="flex-grow-1 d-flex flex-column" style="display: none;">
          <nav class="navbar navbar-custom">
               <div class="container-fluid">
                    <span class="navbar-brand">
                         <img src="../assets/img/heart_home.svg" alt="CineMatch Logo" />
                    </span>
                    <form class="action-form" id="action_logout">
                         <button class="btn btn-logout" id="logout" type="submit" aria-label="Sair">
                              <i class="fa-solid fa-right-from-bracket"></i>
                         </button>
                    </form>
               </div>
          </nav>

          <main class="photo-and-actions-container">
               <div class="photo-card">
                    <img src="" alt="Poster do Filme" class="photo-img" id="moviePoster" />
                    <div class="photo-text">
                         <div class="photo-name-and-age">
                              <h2 id="movieTitle">Título do Filme</h2>
                              <h2 id="movieYear">(Ano)</h2>
                         </div>
                         <div class="photo-bio">
                              <span id="movieOverview">Breve resumo do filme...</span>
                              <a href="#" id="tmdbLink" target="_blank" rel="noopener noreferrer" aria-label="Mais informações no TMDB"><i class="fa-solid fa-circle-info"></i></a>
                         </div>
                         <div class="notas mt-2">
                              <h4 class="geners badge bg-light text-dark p-2" id="movieGenres">Gêneros</h4>
                              <h4 class="nota badge bg-warning text-dark p-2" id="movieRating"><i class="fas fa-star me-1"></i>Nota</h4>
                         </div>
                    </div>
               </div>

               <div class="actions-bar d-flex justify-content-around align-items-center">
                    <form class="action-form" id="action_dislike">
                         <button class="btn action_dislike" type="submit" id="dislike" aria-label="Não Gostei"><i class="fas fa-times"></i></button>
                         <span class="loading_button spinner-border spinner-border-sm text-danger" style="display: none;" role="status"></span>
                    </form>
                    <form class="action-form" id="action_neutral">
                         <button class="btn action_neutral" type="submit" id="neutral" aria-label="Neutro/Ver Depois"><i class="fa-solid fa-eye"></i></button>
                         <span class="loading_button spinner-border spinner-border-sm text-secondary" style="display: none;" role="status"></span>
                    </form>
                    <form class="action-form" id="action_like">
                         <button class="btn action_like" type="submit" id="like" aria-label="Gostei"><i class="fas fa-heart"></i></button>
                         <span class="loading_button spinner-border spinner-border-sm text-success" style="display: none;" role="status"></span>
                    </form>
               </div>
          </main>
     </div>

     <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
     <script src="../assets/js/like.js"></script>
</body>
</html>